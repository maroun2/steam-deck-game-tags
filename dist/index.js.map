{"version":3,"file":"index.js","sources":["decky://decky/plugin/Game%20Progress%20Tracker/node_modules/@decky/api/dist/index.js","decky://decky/plugin/Game%20Progress%20Tracker/src/components/TagIcon.tsx","decky://decky/plugin/Game%20Progress%20Tracker/src/lib/syncUtils.ts","decky://decky/plugin/Game%20Progress%20Tracker/src/components/Settings.tsx","decky://decky/plugin/Game%20Progress%20Tracker/src/components/GameTag.tsx","decky://decky/plugin/Game%20Progress%20Tracker/src/components/TagManager.tsx","decky://decky/plugin/Game%20Progress%20Tracker/src/hooks/useGameTag.ts","decky://decky/plugin/Game%20Progress%20Tracker/src/components/GameTagBadge.tsx","decky://decky/plugin/Game%20Progress%20Tracker/src/lib/patchLibraryApp.tsx","decky://decky/plugin/Game%20Progress%20Tracker/src/lib/achievementCacheWatcher.ts","decky://decky/plugin/Game%20Progress%20Tracker/src/index.tsx"],"sourcesContent":["import _manifest from '@decky/manifest';\nexport * from \"./types\";\nconst manifest = _manifest;\nconst API_VERSION = 2;\nif (!manifest?.name) {\n    throw new Error('[@decky/api]: Failed to find plugin manifest.');\n}\nconst internalAPIConnection = window.__DECKY_SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED_deckyLoaderAPIInit;\nif (!internalAPIConnection) {\n    throw new Error('[@decky/api]: Failed to connect to the loader as as the loader API was not initialized. This is likely a bug in Decky Loader.');\n}\nlet api;\ntry {\n    api = internalAPIConnection.connect(API_VERSION, manifest.name);\n}\ncatch {\n    api = internalAPIConnection.connect(1, manifest.name);\n    console.warn(`[@decky/api] Requested API version ${API_VERSION} but the running loader only supports version 1. Some features may not work.`);\n}\nif (api._version != API_VERSION) {\n    console.warn(`[@decky/api] Requested API version ${API_VERSION} but the running loader only supports version ${api._version}. Some features may not work.`);\n}\nexport const call = api.call;\nexport const callable = api.callable;\nexport const addEventListener = api.addEventListener;\nexport const removeEventListener = api.removeEventListener;\nexport const routerHook = api.routerHook;\nexport const toaster = api.toaster;\nexport const openFilePicker = api.openFilePicker;\nexport const executeInTab = api.executeInTab;\nexport const injectCssIntoTab = api.injectCssIntoTab;\nexport const removeCssFromTab = api.removeCssFromTab;\nexport const fetchNoCors = api.fetchNoCors;\nexport const getExternalResourceURL = api.getExternalResourceURL;\nexport const useQuickAccessVisible = api.useQuickAccessVisible;\nexport const definePlugin = (fn) => {\n    return (...args) => {\n        return fn(...args);\n    };\n};\n","import React, { FC } from 'react';\n\nexport type TagType = 'mastered' | 'completed' | 'in_progress' | 'backlog' | 'dropped' | null;\n\ninterface TagIconProps {\n  type: TagType;\n  size?: number;\n  className?: string;\n}\n\n// Tag colors matching the existing theme\nexport const TAG_ICON_COLORS = {\n  mastered: '#f5576c',\n  completed: '#38ef7d',\n  in_progress: '#764ba2',\n  backlog: '#888',\n  dropped: '#c9a171',  // Beige/tan color for dropped games\n};\n\n/**\n * Trophy icon for Mastered (100% achievements)\n */\nconst TrophyIcon: FC<{ size: number; color: string }> = ({ size, color }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\">\n    <path\n      d=\"M12 17c-1.1 0-2-.9-2-2v-1h4v1c0 1.1-.9 2-2 2z\"\n      fill={color}\n    />\n    <path\n      d=\"M17 4h-1V3c0-.55-.45-1-1-1H9c-.55 0-1 .45-1 1v1H7c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V17H9c-.55 0-1 .45-1 1v2c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2c0-.55-.45-1-1-1h-1.5v-2.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 11.63 21 9.55 21 7V6c0-1.1-.9-2-2-2h-2zm-10 3V6h2v3c0 1.48.81 2.77 2 3.46-.43-.09-.87-.16-1.31-.27C7.36 11.36 5 9.42 5 7zm14 0c0 2.42-2.36 4.36-4.69 5.19-.44.11-.88.18-1.31.27 1.19-.69 2-1.98 2-3.46V6h2v1z\"\n      fill={color}\n    />\n  </svg>\n);\n\n/**\n * Checkmark in circle for Completed (beat main story)\n */\nconst CheckCircleIcon: FC<{ size: number; color: string }> = ({ size, color }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\">\n    <circle cx=\"12\" cy=\"12\" r=\"10\" stroke={color} strokeWidth=\"2\" fill=\"none\" />\n    <path\n      d=\"M8 12l3 3 5-6\"\n      stroke={color}\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      fill=\"none\"\n    />\n  </svg>\n);\n\n/**\n * Clock/hourglass icon for In Progress\n */\nconst ClockIcon: FC<{ size: number; color: string }> = ({ size, color }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\">\n    <circle cx=\"12\" cy=\"12\" r=\"10\" stroke={color} strokeWidth=\"2\" fill=\"none\" />\n    <path\n      d=\"M12 6v6l4 2\"\n      stroke={color}\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      fill=\"none\"\n    />\n  </svg>\n);\n\n/**\n * Empty circle for Backlog (not started)\n */\nconst EmptyCircleIcon: FC<{ size: number; color: string }> = ({ size, color }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\">\n    <circle cx=\"12\" cy=\"12\" r=\"10\" stroke={color} strokeWidth=\"2\" fill=\"none\" />\n  </svg>\n);\n\n/**\n * X in circle for Dropped (abandoned)\n */\nconst XCircleIcon: FC<{ size: number; color: string }> = ({ size, color }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\">\n    <circle cx=\"12\" cy=\"12\" r=\"10\" stroke={color} strokeWidth=\"2\" fill=\"none\" />\n    <path\n      d=\"M15 9l-6 6M9 9l6 6\"\n      stroke={color}\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      fill=\"none\"\n    />\n  </svg>\n);\n\n/**\n * TagIcon component - displays appropriate icon based on tag type\n */\nexport const TagIcon: FC<TagIconProps> = ({ type, size = 24, className }) => {\n  if (!type) return null;\n\n  const color = TAG_ICON_COLORS[type] || TAG_ICON_COLORS.backlog;\n\n  const iconStyle: React.CSSProperties = {\n    display: 'inline-flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexShrink: 0,\n  };\n\n  return (\n    <span style={iconStyle} className={className}>\n      {type === 'mastered' && <TrophyIcon size={size} color={color} />}\n      {type === 'completed' && <CheckCircleIcon size={size} color={color} />}\n      {type === 'in_progress' && <ClockIcon size={size} color={color} />}\n      {type === 'backlog' && <EmptyCircleIcon size={size} color={color} />}\n      {type === 'dropped' && <XCircleIcon size={size} color={color} />}\n    </span>\n  );\n};\n\nexport default TagIcon;\n","/**\n * Sync Utilities\n * Shared functions for syncing game data using Steam's frontend API\n */\n\nimport { call } from '@decky/api';\n\n// Debug logging helper\nconst log = (msg: string, data?: any) => {\n  const logMsg = `[GameProgressTracker][syncUtils] ${msg}`;\n  if (data !== undefined) {\n    console.log(logMsg, data);\n  } else {\n    console.log(logMsg);\n  }\n};\n\n/**\n * Log to backend (for debugging without CEF)\n */\nconst logToBackend = async (level: 'info' | 'error' | 'warn', message: string) => {\n  console.log(`[GameProgressTracker] ${message}`);\n  try {\n    await call<[{ level: string; message: string }], { success: boolean }>('log_frontend', { level, message });\n  } catch (e) {\n    // Silently fail if backend logging fails\n  }\n};\n\n/**\n * Achievement data structure\n */\nexport interface AchievementData {\n  total: number;\n  unlocked: number;\n  percentage: number;\n  all_unlocked: boolean;\n}\n\n/**\n * Game list result from backend\n */\ninterface GameListResult {\n  success: boolean;\n  games?: { appid: string; name?: string }[];\n  error?: string;\n}\n\n/**\n * Sync result from backend\n */\nexport interface SyncResult {\n  success: boolean;\n  total?: number;\n  synced?: number;\n  new_tags?: number;  // Count of games that got new/changed tags\n  errors?: number;\n  error?: string;\n}\n\n/**\n * Get all owned game appids from Steam's frontend API\n * This includes both installed and uninstalled games\n * Uses window.appStore which has access to the full library\n */\nexport const getAllOwnedGameIds = async (): Promise<string[]> => {\n  log('getAllOwnedGameIds: Discovering all owned games from Steam frontend...');\n\n  const appStore = (window as any).appStore;\n\n  if (!appStore) {\n    log('appStore not available');\n    return [];\n  }\n\n  // Log available properties for debugging\n  const appStoreKeys = Object.keys(appStore);\n  log('appStore keys:', appStoreKeys.join(', '));\n\n  // Also log prototype methods\n  try {\n    const protoKeys = Object.getOwnPropertyNames(Object.getPrototypeOf(appStore));\n    log('appStore prototype methods:', protoKeys.slice(0, 30).join(', '));\n  } catch (e) {\n    log('Could not get appStore prototype');\n  }\n\n  // Try multiple known patterns for Steam's internal app storage\n  // Pattern 1: m_mapApps (Map of all apps)\n  if (appStore.m_mapApps instanceof Map) {\n    const appids = Array.from(appStore.m_mapApps.keys()).map((id: any) => String(id));\n    log(`Found ${appids.length} games via m_mapApps Map`);\n    return appids.filter((id: string) => parseInt(id) > 0);\n  }\n\n  // Pattern 2: allApps property\n  if (appStore.allApps) {\n    if (appStore.allApps instanceof Map) {\n      const appids = Array.from(appStore.allApps.keys()).map((id: any) => String(id));\n      log(`Found ${appids.length} games via allApps Map`);\n      return appids.filter((id: string) => parseInt(id) > 0);\n    }\n    if (Array.isArray(appStore.allApps)) {\n      const appids = appStore.allApps.map((app: any) => String(app.appid || app.app_id || app));\n      log(`Found ${appids.length} games via allApps Array`);\n      return appids.filter((id: string) => parseInt(id) > 0);\n    }\n  }\n\n  // Pattern 3: m_apps object\n  if (appStore.m_apps && typeof appStore.m_apps === 'object') {\n    if (appStore.m_apps instanceof Map) {\n      const appids = Array.from(appStore.m_apps.keys()).map((id: any) => String(id));\n      log(`Found ${appids.length} games via m_apps Map`);\n      return appids.filter((id: string) => parseInt(id) > 0);\n    }\n    const appids = Object.keys(appStore.m_apps);\n    log(`Found ${appids.length} games via m_apps Object`);\n    return appids.filter((id: string) => parseInt(id) > 0);\n  }\n\n  // Pattern 4: Try GetAllAppOverviews method (common Steam pattern)\n  if (typeof appStore.GetAllAppOverviews === 'function') {\n    try {\n      const overviews = appStore.GetAllAppOverviews();\n      if (Array.isArray(overviews)) {\n        const appids = overviews.map((o: any) => String(o.appid || o.app_id || o.nAppID));\n        log(`Found ${appids.length} games via GetAllAppOverviews`);\n        return appids.filter((id: string) => parseInt(id) > 0);\n      }\n    } catch (e) {\n      log('GetAllAppOverviews failed:', e);\n    }\n  }\n\n  // Pattern 5: Try iterating appStore.GetAppOverviewByAppID with known appids\n  // This won't work for discovery, but let's check what methods exist\n\n  // Pattern 6: Try collectionStore\n  const collectionStore = (window as any).collectionStore;\n  if (collectionStore) {\n    const collectionKeys = Object.keys(collectionStore);\n    log('collectionStore keys:', collectionKeys.join(', '));\n\n    // Try GetUserOwnedApps method\n    if (typeof collectionStore.GetUserOwnedApps === 'function') {\n      try {\n        const apps = collectionStore.GetUserOwnedApps();\n        if (apps && apps.length > 0) {\n          log(`Found ${apps.length} games via GetUserOwnedApps`);\n          return apps.map((id: any) => String(id)).filter((id: string) => parseInt(id) > 0);\n        }\n      } catch (e) {\n        log('GetUserOwnedApps failed:', e);\n      }\n    }\n\n    // Try ownedAppsCollection\n    if (collectionStore.ownedAppsCollection) {\n      const apps = Array.isArray(collectionStore.ownedAppsCollection)\n        ? collectionStore.ownedAppsCollection\n        : Array.from(collectionStore.ownedAppsCollection);\n      log(`Found ${apps.length} games via ownedAppsCollection`);\n      return apps.map((id: any) => String(id)).filter((id: string) => parseInt(id) > 0);\n    }\n\n    // Try allGamesCollection\n    if (collectionStore.allGamesCollection) {\n      const apps = Array.isArray(collectionStore.allGamesCollection)\n        ? collectionStore.allGamesCollection\n        : Array.from(collectionStore.allGamesCollection);\n      log(`Found ${apps.length} games via allGamesCollection`);\n      return apps.map((id: any) => String(id)).filter((id: string) => parseInt(id) > 0);\n    }\n\n    // Try userCollections\n    if (collectionStore.userCollections) {\n      log('userCollections keys:', Object.keys(collectionStore.userCollections).join(', '));\n    }\n\n    // Try allAppsCollection\n    if (collectionStore.allAppsCollection) {\n      try {\n        const apps = Array.isArray(collectionStore.allAppsCollection)\n          ? collectionStore.allAppsCollection\n          : (collectionStore.allAppsCollection.apps || Array.from(collectionStore.allAppsCollection));\n        if (apps && apps.length > 0) {\n          log(`Found ${apps.length} games via allAppsCollection`);\n          return apps.map((id: any) => String(id.appid || id)).filter((id: string) => parseInt(id) > 0);\n        }\n      } catch (e) {\n        log('allAppsCollection access failed:', e);\n      }\n    }\n  }\n\n  // Pattern 7: Try SteamClient global\n  const steamClient = (window as any).SteamClient;\n  if (steamClient) {\n    log('SteamClient available, checking for apps...');\n    if (steamClient.Apps) {\n      const appsKeys = Object.keys(steamClient.Apps);\n      log('SteamClient.Apps keys:', appsKeys.slice(0, 20).join(', '));\n\n      if (typeof steamClient.Apps.GetAllApps === 'function') {\n        try {\n          const apps = await steamClient.Apps.GetAllApps();\n          if (apps && apps.length > 0) {\n            log(`Found ${apps.length} games via SteamClient.Apps.GetAllApps`);\n            return apps.map((a: any) => String(a.appid || a)).filter((id: string) => parseInt(id) > 0);\n          }\n        } catch (e) {\n          log('SteamClient.Apps.GetAllApps failed:', e);\n        }\n      }\n    }\n  }\n\n  log('Could not discover all owned games - no matching API pattern found');\n  log('Please check console output for available APIs and report to developer');\n  return [];\n};\n\n/**\n * Get achievement data for a list of appids from Steam's frontend API\n * Uses window.appAchievementProgressCache.m_achievementProgress.mapCache for full data\n */\nexport const getAchievementData = async (appids: string[]): Promise<Record<string, AchievementData>> => {\n  log(`getAchievementData called with ${appids.length} appids`);\n  const achievementMap: Record<string, AchievementData> = {};\n  // NOTE: We do NOT set default 0/0 data - only return entries with actual data\n\n  // Access Steam's global achievement progress cache\n  const achievementCache = (window as any).appAchievementProgressCache;\n  log(`appAchievementProgressCache available: ${!!achievementCache}`);\n\n  if (!achievementCache) {\n    log('appAchievementProgressCache not available - cannot get achievements!');\n    return achievementMap;\n  }\n\n  // Access the mapCache which has the full achievement data\n  const mapCache = achievementCache.m_achievementProgress?.mapCache;\n\n  if (!mapCache) {\n    log('mapCache not available in achievementCache');\n    return achievementMap;\n  }\n\n  log(`mapCache available, size: ${mapCache.size}`);\n\n  let successCount = 0;\n  let withAchievements = 0;\n  const sampleLogs: string[] = [];\n\n  for (const appid of appids) {\n    try {\n      const entry = mapCache.get(parseInt(appid));\n\n      // Only store if we have actual achievement data (total > 0)\n      // Don't store 0/0 which would overwrite potentially valid data\n      if (entry && entry.total > 0) {\n        achievementMap[appid] = {\n          total: entry.total,\n          unlocked: entry.unlocked || 0,\n          percentage: entry.percentage || 0,\n          all_unlocked: entry.all_unlocked || false\n        };\n        successCount++;\n        withAchievements++;\n\n        if (sampleLogs.length < 5) {\n          sampleLogs.push(`appid ${appid}: ${entry.unlocked}/${entry.total} (${entry.percentage.toFixed(1)}%)`);\n        }\n      }\n      // If no entry or total=0, don't add to map - backend will preserve existing data\n    } catch (e: any) {\n      // Don't add anything on error - preserve existing data\n    }\n  }\n\n  // Log results\n  for (const logMsg of sampleLogs) {\n    log(`Achievement sample - ${logMsg}`);\n  }\n  log(`getAchievementData: found ${successCount} entries with achievements`);\n\n  return achievementMap;\n};\n\n/**\n * Game data structure including playtime and last played timestamp\n */\nexport interface GameData {\n  playtime_minutes: number;\n  rt_last_time_played: number | null;\n}\n\n/**\n * Get playtime and last played data for a list of appids from Steam's frontend API\n * Uses window.appStore which is Steam's internal game data cache\n */\nexport const getPlaytimeData = async (appids: string[]): Promise<Record<string, GameData>> => {\n  log(`getPlaytimeData called with ${appids.length} appids`);\n  const gameDataMap: Record<string, GameData> = {};\n\n  // Access Steam's global appStore\n  const appStore = (window as any).appStore;\n  log(`appStore available: ${!!appStore}`);\n\n  if (!appStore) {\n    log('appStore not available - cannot get playtime!');\n    return gameDataMap;\n  }\n\n  log(`GetAppOverviewByAppID exists: ${typeof appStore.GetAppOverviewByAppID}`);\n\n  let successCount = 0;\n  let failCount = 0;\n  let withPlaytime = 0;\n  let withLastPlayed = 0;\n  const sampleLogs: string[] = [];\n\n  for (const appid of appids) {\n    try {\n      const overview = appStore.GetAppOverviewByAppID(parseInt(appid));\n      if (overview) {\n        const playtime = overview.minutes_playtime_forever || 0;\n        const rtLastTimePlayed = overview.rt_last_time_played || null;\n\n        gameDataMap[appid] = {\n          playtime_minutes: playtime,\n          rt_last_time_played: rtLastTimePlayed\n        };\n\n        successCount++;\n        if (playtime > 0) withPlaytime++;\n        if (rtLastTimePlayed) withLastPlayed++;\n\n        if (sampleLogs.length < 3) {\n          const lastPlayedStr = rtLastTimePlayed ? new Date(rtLastTimePlayed * 1000).toISOString() : 'never';\n          sampleLogs.push(`appid ${appid}: playtime=${playtime}min, lastPlayed=${lastPlayedStr}, name=${overview.display_name || 'unknown'}`);\n        }\n      } else {\n        failCount++;\n      }\n    } catch (e) {\n      failCount++;\n    }\n  }\n\n  // Log results\n  for (const logMsg of sampleLogs) {\n    log(`Game data sample - ${logMsg}`);\n  }\n  log(`getPlaytimeData results: success=${successCount}, failed=${failCount}, withPlaytime=${withPlaytime}, withLastPlayed=${withLastPlayed}`);\n\n  return gameDataMap;\n};\n\n/**\n * Get game names for a list of appids from Steam's frontend API\n * Uses window.appStore.GetAppOverviewByAppID which has the display_name property\n * This works for ALL owned games, even uninstalled ones\n */\nexport const getGameNames = async (appids: string[]): Promise<Record<string, string>> => {\n  log(`getGameNames called with ${appids.length} appids`);\n  const nameMap: Record<string, string> = {};\n\n  // Access Steam's global appStore\n  const appStore = (window as any).appStore;\n\n  if (!appStore) {\n    log('appStore not available - cannot get game names!');\n    return nameMap;\n  }\n\n  let successCount = 0;\n  let failCount = 0;\n  const sampleLogs: string[] = [];\n\n  for (const appid of appids) {\n    try {\n      const overview = appStore.GetAppOverviewByAppID(parseInt(appid));\n      if (overview && overview.display_name) {\n        nameMap[appid] = overview.display_name;\n        successCount++;\n\n        if (sampleLogs.length < 5) {\n          sampleLogs.push(`appid ${appid}: \"${overview.display_name}\"`);\n        }\n      } else {\n        failCount++;\n        // Don't set anything - backend will use fallback\n      }\n    } catch (e) {\n      failCount++;\n    }\n  }\n\n  // Log results\n  for (const logMsg of sampleLogs) {\n    log(`Game name sample - ${logMsg}`);\n  }\n  log(`getGameNames results: success=${successCount}, failed=${failCount}`);\n\n  return nameMap;\n};\n\n/**\n * Get achievement data with fallback: cache first, then API call\n * Unified function for fetching achievement data that tries cache first,\n * then falls back to calling SteamClient.Apps.GetMyAchievementsForApp\n *\n * @param appids List of appids to get achievement data for\n * @returns Map of appid -> achievement data (only includes games with achievements)\n */\nexport const getAchievementDataWithFallback = async (appids: string[]): Promise<Record<string, AchievementData>> => {\n  log(`Getting achievements for ${appids.length} games (cache + API fallback)`);\n\n  // Step 1: Try cache first (fast path)\n  const cacheData = await getAchievementData(appids);\n  const achievementMap: Record<string, AchievementData> = { ...cacheData };\n\n  // Find appids not in cache\n  const missingAppids = appids.filter(appid => !achievementMap[appid]);\n\n  if (missingAppids.length === 0) {\n    log(`All ${appids.length} games found in cache`);\n    return achievementMap;\n  }\n\n  log(`Cache: ${Object.keys(cacheData).length}/${appids.length}, fetching ${missingAppids.length} via API`);\n\n  // Step 2: For missing appids, try API with 5s timeout\n  const steamClient = (window as any).SteamClient;\n  if (!steamClient?.Apps?.GetMyAchievementsForApp) {\n    log(`API not available, returning cache data only`);\n    return achievementMap;\n  }\n\n  let apiFetched = 0;\n  let apiErrors = 0;\n\n  for (const appid of missingAppids) {\n    try {\n      const promise = steamClient.Apps.GetMyAchievementsForApp(appid);\n\n      if (promise && typeof promise.then === 'function') {\n        const timeoutPromise = new Promise<never>((_, reject) => {\n          setTimeout(() => reject(new Error('Timeout')), 5000);\n        });\n\n        const result = await Promise.race([promise, timeoutPromise]);\n\n        if (result && (result as any).result === 1 && (result as any).data?.rgAchievements) {\n          const achievements = (result as any).data.rgAchievements;\n          const total = achievements.length;\n          const unlocked = achievements.filter((a: any) => a.bAchieved).length;\n          const percentage = total > 0 ? (unlocked / total) * 100 : 0;\n\n          achievementMap[appid] = {\n            total,\n            unlocked,\n            percentage,\n            all_unlocked: total > 0 && unlocked === total\n          };\n\n          apiFetched++;\n          log(`${appid}: ${unlocked}/${total} (${percentage.toFixed(1)}%)`);\n        }\n      }\n    } catch (e: any) {\n      apiErrors++;\n      // Continue to next appid\n    }\n  }\n\n  log(`API fetch complete: ${apiFetched} success, ${apiErrors} errors`);\n  return achievementMap;\n};\n\n/**\n * Fetch achievement data on-demand using SteamClient.Apps.GetMyAchievementsForApp\n *\n * This uses Steam's internal API that fetches achievement data from Steam servers,\n * which works even for uninstalled games or games not in the frontend cache.\n */\nexport const fetchAchievementsOnDemand = async (appid: string): Promise<AchievementData | null> => {\n  log(`Fetching achievements on-demand for ${appid}`);\n\n  // First check if already in cache (fastest path)\n  const achievementCache = (window as any).appAchievementProgressCache;\n  const mapCache = achievementCache?.m_achievementProgress?.mapCache;\n\n  if (mapCache) {\n    const existing = mapCache.get(parseInt(appid));\n    if (existing && existing.total > 0) {\n      log(`${appid}: found in cache (${existing.unlocked}/${existing.total})`);\n      return {\n        total: existing.total,\n        unlocked: existing.unlocked || 0,\n        percentage: existing.percentage || 0,\n        all_unlocked: existing.all_unlocked || false\n      };\n    }\n  }\n\n  // Try SteamClient.Apps.GetMyAchievementsForApp with timeout\n  const steamClient = (window as any).SteamClient;\n\n  if (steamClient?.Apps?.GetMyAchievementsForApp) {\n    try {\n      // IMPORTANT: Must pass appid as STRING (not number) for API to work\n      const promise = steamClient.Apps.GetMyAchievementsForApp(appid);\n\n      if (promise && typeof promise.then === 'function') {\n        const timeoutPromise = new Promise<never>((_, reject) => {\n          setTimeout(() => reject(new Error('Timeout')), 5000);\n        });\n\n        const result = await Promise.race([promise, timeoutPromise]);\n\n        // Check for result structure: { result: 1, data: { rgAchievements: [...] } }\n        if (result && (result as any).result === 1 && (result as any).data?.rgAchievements) {\n          const achievements = (result as any).data.rgAchievements;\n          const total = achievements.length;\n          const unlocked = achievements.filter((a: any) => a.bAchieved).length;\n          const percentage = total > 0 ? (unlocked / total) * 100 : 0;\n\n          log(`${appid}: fetched via API (${unlocked}/${total})`);\n\n          return {\n            total,\n            unlocked,\n            percentage,\n            all_unlocked: total > 0 && unlocked === total\n          };\n        }\n      }\n    } catch (e: any) {\n      log(`${appid}: API fetch failed - ${e?.message}`);\n    }\n  }\n\n  // Return null so backend can try Steam Web API\n  return null;\n};\n\n/**\n * Core sync helper: sync games with frontend data\n * Unified function used by both single-game and bulk sync\n * Uses cache + API fallback for achievements\n *\n * @param appids List of appids to sync\n * @returns Sync result from backend\n */\nconst syncGames = async (appids: string[]): Promise<SyncResult> => {\n  log(`Syncing ${appids.length} games`);\n\n  try {\n    // Step 1: Get playtime and last played data\n    const gameData = await getPlaytimeData(appids);\n    const withPlaytime = Object.values(gameData).filter(v => v.playtime_minutes > 0).length;\n    const withLastPlayed = Object.values(gameData).filter(v => v.rt_last_time_played !== null).length;\n    log(`Game data: ${withPlaytime}/${appids.length} with playtime, ${withLastPlayed}/${appids.length} with last played`);\n\n    // Step 2: Get achievement data (cache + API fallback)\n    const achievementData = await getAchievementDataWithFallback(appids);\n    const withAchievements = Object.keys(achievementData).length;\n    log(`Achievements: ${withAchievements}/${appids.length} games`);\n\n    // Step 3: Get game names\n    const gameNames = await getGameNames(appids);\n    log(`Names: ${Object.keys(gameNames).length}/${appids.length} games`);\n\n    // Step 4: Send to backend\n    const result = await call<[{ game_data: Record<string, GameData>; achievement_data: Record<string, AchievementData>; game_names: Record<string, string> }], SyncResult>(\n      'sync_library_with_playtime',\n      { game_data: gameData, achievement_data: achievementData, game_names: gameNames }\n    );\n\n    log(`Sync complete: ${result.synced}/${result.total} games, ${result.errors || 0} errors`);\n    return result;\n\n  } catch (e: any) {\n    log(`Sync failed: ${e?.message}`);\n    return { success: false, error: e?.message || 'Unknown error' };\n  }\n};\n\n/**\n * Sync a single game with frontend data (playtime + achievements)\n * Called when viewing a game's detail page to get latest data\n * Uses cache + API fallback for achievements\n */\nexport const syncSingleGameWithFrontendData = async (appid: string): Promise<{ success: boolean; error?: string }> => {\n  log(`Syncing single game: ${appid}`);\n\n  const result = await syncGames([appid]);\n\n  return { success: result.success, error: result.error };\n};\n\nexport const syncLibraryWithFrontendData = async (): Promise<SyncResult> => {\n  log('Starting library sync');\n\n  try {\n    // Get settings\n    const settingsResult = await call<[], { settings: { source_all_owned?: boolean } }>('get_settings');\n    const useAllOwned = settingsResult?.settings?.source_all_owned ?? true;\n    log(`Source: ${useAllOwned ? 'all owned games' : 'installed only'}`);\n\n    // Get game list\n    let appids: string[];\n\n    if (useAllOwned) {\n      // Try to discover games from frontend with retries if appStore isn't ready\n      appids = await getAllOwnedGameIds();\n      log(`Discovered ${appids.length} owned games`);\n\n      // Retry up to 3 times with 2 second delays if discovery fails (appStore not ready on initial load)\n      let retries = 0;\n      while (appids.length === 0 && retries < 3) {\n        retries++;\n        log(`Discovery failed (appStore may not be ready yet), retry ${retries}/3 in 2s...`);\n        await new Promise(resolve => setTimeout(resolve, 2000));\n        appids = await getAllOwnedGameIds();\n        log(`Retry ${retries}: Discovered ${appids.length} owned games`);\n      }\n\n      // Final fallback to backend if discovery still fails after retries\n      if (appids.length === 0) {\n        log('Discovery failed after retries, using backend list');\n        const gamesResult = await call<[], GameListResult>('get_all_games');\n        if (gamesResult.success && gamesResult.games) {\n          appids = gamesResult.games.map(g => g.appid);\n          log(`Backend: ${appids.length} games`);\n        }\n      }\n    } else {\n      const gamesResult = await call<[], GameListResult>('get_all_games');\n      if (!gamesResult.success || !gamesResult.games) {\n        return { success: false, error: gamesResult.error || 'Failed to get game list' };\n      }\n      appids = gamesResult.games.map(g => g.appid);\n      log(`Backend: ${appids.length} games`);\n    }\n\n    if (appids.length === 0) {\n      log('No games found');\n      return { success: true, total: 0, synced: 0, errors: 0 };\n    }\n\n    // Use syncGames helper (cache + API fallback)\n    return await syncGames(appids);\n\n  } catch (e: any) {\n    log(`Library sync failed: ${e?.message}`);\n    return { success: false, error: e?.message || 'Unknown error' };\n  }\n};\n","/**\n * Settings Component\n * Plugin settings and configuration panel\n */\n\nimport React, { FC, useState, useEffect } from 'react';\nimport { call, toaster } from '@decky/api';\nimport { PanelSection, PanelSectionRow, ButtonItem, Focusable, Navigation } from '@decky/ui';\nimport { PluginSettings, SyncResult, TagStatistics, TaggedGame, GameListResult } from '../types';\nimport { TagIcon, TagType } from './TagIcon';\nimport { getAchievementData, getPlaytimeData, getGameNames, getAllOwnedGameIds, AchievementData } from '../lib/syncUtils';\n\n/**\n * Log to both console and backend (for debugging without CEF)\n */\nconst logToBackend = async (level: 'info' | 'error' | 'warn', message: string) => {\n  console.log(`[GameProgressTracker] ${message}`);\n  try {\n    await call<[{ level: string; message: string }], { success: boolean }>('log_frontend', { level, message });\n  } catch (e) {\n    // Silently fail if backend logging fails\n  }\n};\n\n// Tag color mapping\nconst TAG_COLORS: Record<string, string> = {\n  completed: '#38ef7d',\n  in_progress: '#764ba2',\n  mastered: '#f5576c',\n  backlog: '#888',\n  dropped: '#c9a171',\n};\n\nexport const Settings: FC = () => {\n  const [settings, setSettings] = useState<PluginSettings>({\n    auto_tag_enabled: true,\n    mastered_multiplier: 1.5,  // Deprecated, kept for compatibility\n    in_progress_threshold: 30,\n    cache_ttl: 7200,\n    source_installed: true,\n    source_non_steam: true,\n    source_all_owned: true,\n  });\n  const [stats, setStats] = useState<TagStatistics | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [syncing, setSyncing] = useState(false);\n  const [message, setMessage] = useState<string | null>(null);\n\n  // Tagged games list state\n  const [taggedGames, setTaggedGames] = useState<TaggedGame[]>([]);\n  const [backlogGames, setBacklogGames] = useState<TaggedGame[]>([]);\n  const [expandedSections, setExpandedSections] = useState<Record<string, boolean>>({\n    completed: false,\n    in_progress: false,\n    backlog: false,\n    mastered: false,\n    dropped: false,\n  });\n  const [loadingGames, setLoadingGames] = useState(false);\n  const [loadingBacklog, setLoadingBacklog] = useState(false);\n\n  // Settings section state\n  const [showSettings, setShowSettings] = useState(false);\n\n  // Track previous data to avoid unnecessary re-renders (prevents UI flashing)\n  const prevStatsRef = React.useRef<string>('');\n  const prevGamesRef = React.useRef<string>('');\n\n  // Smart update function that only updates UI if data changed\n  const smartUpdateUI = async () => {\n    try {\n      // Fetch stats\n      const statsResult = await call<[], { success: boolean; stats: TagStatistics }>('get_tag_statistics');\n      if (statsResult.success && statsResult.stats) {\n        const newStatsStr = JSON.stringify(statsResult.stats);\n        if (newStatsStr !== prevStatsRef.current) {\n          prevStatsRef.current = newStatsStr;\n          setStats(statsResult.stats);\n        }\n      }\n\n      // Fetch games\n      const gamesResult = await call<[], { success: boolean; games: TaggedGame[] }>('get_all_tags_with_names');\n      if (gamesResult.success && gamesResult.games) {\n        const newGamesStr = JSON.stringify(gamesResult.games.map(g => g.appid).sort());\n        if (newGamesStr !== prevGamesRef.current) {\n          prevGamesRef.current = newGamesStr;\n          setTaggedGames(gamesResult.games);\n          // No notification here - notifications only shown after explicit sync complete\n        }\n      }\n    } catch (err) {\n      // Silently fail\n    }\n  };\n\n  // Poll for sync progress from backend (works for both auto-sync and manual sync)\n  useEffect(() => {\n    const pollSyncProgress = async () => {\n      try {\n        const result = await call<[], { success: boolean; syncing: boolean; current: number; total: number }>('get_sync_progress');\n        if (result.success && result.syncing) {\n          // Update message with current progress\n          setMessage(`Syncing: ${result.current}/${result.total} games`);\n          setSyncing(true);\n        } else if (result.success && !result.syncing && syncing) {\n          // Sync just finished\n          setSyncing(false);\n          // Update UI to show new tags\n          smartUpdateUI();\n        }\n      } catch (err) {\n        // Silently fail - backend may not support get_sync_progress yet\n      }\n    };\n\n    // Poll every 500ms when syncing, less frequently otherwise\n    const interval = setInterval(pollSyncProgress, syncing ? 500 : 2000);\n    return () => clearInterval(interval);\n  }, [syncing]);\n\n  useEffect(() => {\n    loadSettings();\n    // Initial load - force update\n    loadStats().then(() => {\n      if (stats) prevStatsRef.current = JSON.stringify(stats);\n    });\n    loadTaggedGames().then(() => {\n      if (taggedGames.length > 0) prevGamesRef.current = JSON.stringify(taggedGames.map(g => g.appid).sort());\n    });\n\n    // Poll every 10 seconds for updates (from background sync or other sources)\n    const pollInterval = setInterval(smartUpdateUI, 10000);\n\n    return () => clearInterval(pollInterval);\n  }, []);\n\n  const loadSettings = async () => {\n    try {\n      const result = await call<[], { settings: PluginSettings }>('get_settings');\n      if (result.settings) {\n        setSettings(result.settings);\n      }\n    } catch (err) {\n      console.error('Error loading settings:', err);\n    }\n  };\n\n  const loadStats = async () => {\n    await logToBackend('info', 'loadStats called');\n    try {\n      const result = await call<[], { success: boolean; stats: TagStatistics }>('get_tag_statistics');\n      await logToBackend('info', `loadStats result: ${JSON.stringify(result)}`);\n      if (result.success && result.stats) {\n        setStats(result.stats);\n      }\n    } catch (err) {\n      await logToBackend('error', `loadStats error: ${err}`);\n    }\n  };\n\n  const loadTaggedGames = async () => {\n    await logToBackend('info', 'loadTaggedGames called');\n    try {\n      setLoadingGames(true);\n      const result = await call<[], { success: boolean; games: TaggedGame[] }>('get_all_tags_with_names');\n      await logToBackend('info', `loadTaggedGames result: success=${result.success}, games=${result.games?.length || 0}`);\n      if (result.success && result.games) {\n        setTaggedGames(result.games);\n      }\n    } catch (err) {\n      await logToBackend('error', `loadTaggedGames error: ${err}`);\n    } finally {\n      setLoadingGames(false);\n    }\n  };\n\n  const loadBacklogGames = async () => {\n    await logToBackend('info', 'loadBacklogGames called');\n    try {\n      setLoadingBacklog(true);\n      const result = await call<[], { success: boolean; games: TaggedGame[] }>('get_backlog_games');\n      await logToBackend('info', `loadBacklogGames result: success=${result.success}, games=${result.games?.length || 0}`);\n      if (result.success && result.games) {\n        setBacklogGames(result.games);\n      }\n    } catch (err) {\n      await logToBackend('error', `loadBacklogGames error: ${err}`);\n    } finally {\n      setLoadingBacklog(false);\n    }\n  };\n\n  const toggleSection = (tagType: string) => {\n    const willExpand = !expandedSections[tagType];\n    setExpandedSections(prev => ({\n      ...prev,\n      [tagType]: willExpand,\n    }));\n\n    // Load backlog games when expanding backlog section (and not already loaded)\n    if (tagType === 'backlog' && willExpand && backlogGames.length === 0) {\n      loadBacklogGames();\n    }\n  };\n\n  const navigateToGame = (appid: string) => {\n    Navigation.Navigate(`/library/app/${appid}`);\n    Navigation.CloseSideMenus();\n  };\n\n  const updateSetting = async (key: keyof PluginSettings, value: any) => {\n    const newSettings = { ...settings, [key]: value };\n    setSettings(newSettings);\n\n    try {\n      await call<[{ settings: PluginSettings }], void>('update_settings', { settings: newSettings });\n      showMessage('Settings saved');\n    } catch (err) {\n      console.error('Error updating settings:', err);\n      showMessage('Failed to save settings');\n    }\n  };\n\n  const syncLibrary = async () => {\n    await logToBackend('info', '========================================');\n    await logToBackend('info', `syncLibrary button clicked - v${__PLUGIN_VERSION__}`);\n    await logToBackend('info', '========================================');\n    try {\n      setSyncing(true);\n      setMessage('Fetching game list...');\n\n      let appids: string[];\n\n      // Check if we should use all owned games from frontend or backend discovery\n      if (settings.source_all_owned) {\n        // Step 1: Get all owned games from Steam frontend API\n        await logToBackend('info', 'Step 1: Getting ALL owned games from Steam frontend API...');\n        appids = await getAllOwnedGameIds();\n        await logToBackend('info', `getAllOwnedGameIds returned ${appids.length} games`);\n\n        if (appids.length === 0) {\n          await logToBackend('warn', 'Frontend discovery returned 0 games, falling back to backend...');\n          const gamesResult = await call<[], GameListResult>('get_all_games');\n          if (gamesResult.success && gamesResult.games) {\n            appids = gamesResult.games.map(g => g.appid);\n            await logToBackend('info', `Backend fallback: Got ${appids.length} games`);\n          } else {\n            await logToBackend('error', `Both frontend and backend discovery failed`);\n            showMessage('Failed to discover games. Please try again.');\n            return;\n          }\n        }\n      } else {\n        // Step 1: Get game appids from backend (installed games only)\n        await logToBackend('info', 'Step 1: Calling backend get_all_games...');\n        const gamesResult = await call<[], GameListResult>('get_all_games');\n        await logToBackend('info', `get_all_games response: ${JSON.stringify(gamesResult).slice(0, 500)}`);\n\n        if (!gamesResult.success || !gamesResult.games) {\n          await logToBackend('error', `get_all_games failed: ${gamesResult.error}`);\n          showMessage(`Failed to get game list: ${gamesResult.error || 'Unknown error'}`);\n          return;\n        }\n\n        appids = gamesResult.games.map(g => g.appid);\n      }\n\n      await logToBackend('info', `Step 1 complete: Got ${appids.length} games`);\n      await logToBackend('info', `First 5 appids: ${appids.slice(0, 5).join(', ')}`);\n      await logToBackend('info', `Appid types: ${appids.slice(0, 5).map(a => typeof a).join(', ')}`);\n\n      // Step 2: Get game data (playtime + last played) from Steam frontend API\n      await logToBackend('info', 'Step 2: Getting game data from Steam frontend API...');\n      setMessage(`Getting game data for ${appids.length} games...`);\n      const gameData = await getPlaytimeData(appids);\n      const gamesWithPlaytime = Object.values(gameData).filter(v => v.playtime_minutes > 0).length;\n      await logToBackend('info', `Step 2 complete: Got game data for ${gamesWithPlaytime}/${appids.length} games`);\n\n      // Log sample of game data\n      const sampleEntries = Object.entries(gameData).slice(0, 5);\n      await logToBackend('info', `Sample game data: ${JSON.stringify(sampleEntries)}`);\n\n      // Step 2.5: Get achievement data from Steam frontend API\n      await logToBackend('info', 'Step 2.5: Getting achievement data from Steam frontend API...');\n      setMessage(`Getting achievement data for ${appids.length} games...`);\n      const achievementData = await getAchievementData(appids);\n      const gamesWithAchievements = Object.values(achievementData).filter(v => v.total > 0).length;\n      await logToBackend('info', `Step 2.5 complete: Got achievements for ${gamesWithAchievements}/${appids.length} games`);\n\n      // Log sample of achievement data\n      const achievementSample = Object.entries(achievementData).slice(0, 5);\n      await logToBackend('info', `Sample achievement data: ${JSON.stringify(achievementSample)}`);\n\n      // Step 2.6: Get game names from Steam frontend API (works for uninstalled games too!)\n      await logToBackend('info', 'Step 2.6: Getting game names from Steam frontend API...');\n      setMessage(`Getting game names for ${appids.length} games...`);\n      const gameNames = await getGameNames(appids);\n      await logToBackend('info', `Step 2.6 complete: Got names for ${Object.keys(gameNames).length}/${appids.length} games`);\n\n      // Step 3: Sync all games at once - backend tracks progress\n      await logToBackend('info', 'Step 3: Syncing all games...');\n\n      const result = await call<[{ game_data: Record<string, import('../lib/syncUtils').GameData>; achievement_data: Record<string, AchievementData>; game_names: Record<string, string> }], SyncResult>(\n        'sync_library_with_playtime',\n        { game_data: gameData, achievement_data: achievementData, game_names: gameNames }\n      );\n\n      await logToBackend('info', `Step 3 complete: ${result.synced}/${appids.length} synced, ${result.new_tags || 0} new tags, ${result.errors || 0} errors`);\n\n      // Update UI to show new tags\n      await smartUpdateUI();\n\n      const syncMessage = `Sync complete! ${result.synced}/${appids.length} games synced.` +\n        (result.new_tags && result.new_tags > 0 ? ` ${result.new_tags} new tags.` : '') +\n        (result.errors ? ` ${result.errors} errors.` : '');\n      showMessage(syncMessage);\n\n      // Show final toast notification only at the end\n      toaster.toast({\n        title: 'Game Progress Tracker',\n        body: syncMessage,\n        duration: 5000,\n      });\n    } catch (err: any) {\n      console.error('[GameProgressTracker] Error syncing library:', err);\n      showMessage(`Sync error: ${err?.message || 'Unknown error'}`);\n    } finally {\n      setSyncing(false);\n    }\n  };\n\n  const refreshCache = async () => {\n    try {\n      setLoading(true);\n      await call<[], void>('refresh_hltb_cache');\n      showMessage('Cache will be refreshed on next sync');\n    } catch (err) {\n      console.error('Error refreshing cache:', err);\n      showMessage('Failed to refresh cache');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const showMessage = (msg: string) => {\n    setMessage(msg);\n    setTimeout(() => setMessage(null), 5000);\n  };\n\n  // Group tagged games by tag type\n  const groupedGames = taggedGames.reduce((acc, game) => {\n    if (!acc[game.tag]) {\n      acc[game.tag] = [];\n    }\n    acc[game.tag].push(game);\n    return acc;\n  }, {} as Record<string, TaggedGame[]>);\n\n  const tagLabels: Record<string, string> = {\n    completed: 'Completed',\n    in_progress: 'In Progress',\n    backlog: 'Backlog',\n    mastered: 'Mastered',\n    dropped: 'Dropped',\n  };\n\n  const tagDescriptions: Record<string, string> = {\n    completed: 'Beat the main story (playtime ≥ HLTB main story time)',\n    in_progress: 'Currently playing (playtime ≥ 30 minutes)',\n    backlog: 'Not started yet (no playtime or minimal playtime)',\n    mastered: 'Unlocked 85%+ of all achievements',\n    dropped: 'Not played for over 1 year',\n  };\n\n  const totalGames = stats ? stats.total : 0;\n\n  // Get count for each category including backlog from stats\n  const getCategoryCount = (tagType: string): number => {\n    if (tagType === 'backlog') {\n      return stats?.backlog || 0;\n    }\n    return (groupedGames[tagType] || []).length;\n  };\n\n  return (\n    <div style={styles.container}>\n      {message && (\n        <div style={styles.message}>{message}</div>\n      )}\n\n      {/* Game Lists - Expandable per tag type */}\n      <div style={styles.section}>\n        <h3 style={styles.sectionTitle}>Library ({totalGames} games)</h3>\n\n        {loadingGames ? (\n          <div style={styles.loadingText}>Loading games...</div>\n        ) : totalGames === 0 ? (\n          <div style={styles.loadingText}>\n            No games synced yet. Click \"Sync Entire Library\" to tag your games based on playtime and achievements.\n          </div>\n        ) : (\n          <Focusable style={styles.taggedListContainer} flow-children=\"down\">\n            {(['in_progress', 'completed', 'mastered', 'dropped', 'backlog'] as TagType[]).map((tagType) => {\n              if (!tagType) return null;\n              const isBacklog = tagType === 'backlog';\n              const games = isBacklog ? backlogGames : (groupedGames[tagType] || []);\n              const count = getCategoryCount(tagType);\n              const isExpanded = expandedSections[tagType];\n\n              return (\n                <Focusable key={tagType} style={styles.tagSection} flow-children=\"down\">\n                  <Focusable\n                    style={styles.tagSectionHeader}\n                    onActivate={() => toggleSection(tagType)}\n                  >\n                    <div style={styles.tagSectionLeft}>\n                      <TagIcon type={tagType} size={18} />\n                      <span style={styles.tagSectionTitle}>{tagLabels[tagType]}</span>\n                    </div>\n                    <div style={styles.tagSectionRight}>\n                      <span style={{ ...styles.tagCount, color: TAG_COLORS[tagType] }}>\n                        {count}\n                      </span>\n                      <span style={styles.expandIcon}>\n                        {isExpanded ? '−' : '+'}\n                      </span>\n                    </div>\n                  </Focusable>\n\n                  {isExpanded && (\n                    <div style={styles.tagDescription}>\n                      {tagDescriptions[tagType]}\n                    </div>\n                  )}\n\n                  {isExpanded && isBacklog && loadingBacklog && (\n                    <div style={styles.emptySection}>Loading backlog games...</div>\n                  )}\n\n                  {isExpanded && games.length > 0 && (\n                    <Focusable style={styles.gameList} flow-children=\"down\">\n                      {games.map((game) => (\n                        <Focusable\n                          key={game.appid}\n                          style={styles.gameItem}\n                          onActivate={() => navigateToGame(game.appid)}\n                        >\n                          <span\n                            style={{\n                              ...styles.smallDot,\n                              backgroundColor: TAG_COLORS[game.tag],\n                            }}\n                          />\n                          <span style={styles.gameName}>{game.game_name}</span>\n                          {game.is_manual && (\n                            <span style={styles.manualBadge}>manual</span>\n                          )}\n                        </Focusable>\n                      ))}\n                    </Focusable>\n                  )}\n\n                  {isExpanded && games.length === 0 && !loadingBacklog && (\n                    <div style={styles.emptySection}>No games with this tag</div>\n                  )}\n                </Focusable>\n              );\n            })}\n          </Focusable>\n        )}\n      </div>\n\n      {/* Sync Button - always visible */}\n      <PanelSection>\n        <PanelSectionRow>\n          <ButtonItem\n            layout=\"below\"\n            onClick={syncLibrary}\n            disabled={syncing || loading}\n          >\n            {syncing ? 'Syncing...' : 'Sync Entire Library'}\n          </ButtonItem>\n        </PanelSectionRow>\n        <div style={styles.hint}>\n          Sync may take several minutes for large libraries\n        </div>\n      </PanelSection>\n\n      {/* About */}\n      <div style={styles.section}>\n        <h3 style={styles.sectionTitle}>About</h3>\n        <div style={styles.about}>\n          <p>Game Progress Tracker {__PLUGIN_VERSION__}</p>\n          <p>Automatic game tagging based on achievements, playtime, and completion time.</p>\n          <p style={styles.smallText}>\n            Data from HowLongToBeat • Steam achievement system\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst styles: Record<string, React.CSSProperties> = {\n  container: {\n    padding: '16px',\n    color: 'white',\n  },\n  message: {\n    padding: '12px',\n    backgroundColor: 'rgba(102, 126, 234, 0.2)',\n    borderRadius: '4px',\n    marginBottom: '16px',\n    fontSize: '14px',\n    border: '1px solid rgba(102, 126, 234, 0.5)',\n  },\n  section: {\n    marginBottom: '24px',\n    paddingBottom: '16px',\n    borderBottom: '1px solid #333',\n  },\n  sectionTitle: {\n    margin: '0 0 12px 0',\n    fontSize: '16px',\n    fontWeight: 'bold',\n    color: '#aaa',\n  },\n  statGrid: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fit, minmax(100px, 1fr))',\n    gap: '10px',\n  },\n  statCard: {\n    backgroundColor: '#252525',\n    padding: '12px 8px',\n    borderRadius: '8px',\n    textAlign: 'center',\n  },\n  statValue: {\n    fontSize: '28px',\n    fontWeight: 'bold',\n    color: '#667eea',\n    marginBottom: '4px',\n  },\n  statLabel: {\n    fontSize: '11px',\n    color: '#aaa',\n  },\n  expandButton: {\n    width: '100%',\n    padding: '12px',\n    backgroundColor: '#333',\n    border: '1px solid #444',\n    borderRadius: '4px',\n    color: 'white',\n    fontSize: '14px',\n    cursor: 'pointer',\n    textAlign: 'left',\n  },\n  taggedListContainer: {\n    marginTop: '12px',\n    maxHeight: '400px',\n    overflowY: 'auto',\n  },\n  loadingText: {\n    padding: '16px',\n    textAlign: 'center',\n    color: '#888',\n    fontSize: '14px',\n  },\n  tagGroup: {\n    marginBottom: '16px',\n  },\n  tagGroupHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '8px',\n    fontSize: '14px',\n    fontWeight: 'bold',\n    color: '#ccc',\n    marginBottom: '8px',\n    paddingBottom: '4px',\n    borderBottom: '1px solid #333',\n  },\n  tagDot: {\n    width: '12px',\n    height: '12px',\n    borderRadius: '50%',\n    display: 'inline-block',\n  },\n  gameList: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '4px',\n  },\n  gameItem: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '8px',\n    padding: '8px 12px',\n    backgroundColor: '#252525',\n    borderRadius: '4px',\n    transition: 'background-color 0.2s',\n  },\n  smallDot: {\n    width: '8px',\n    height: '8px',\n    borderRadius: '50%',\n    flexShrink: 0,\n  },\n  gameName: {\n    fontSize: '13px',\n    color: '#ddd',\n    flex: 1,\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n  },\n  manualBadge: {\n    fontSize: '10px',\n    color: '#888',\n    backgroundColor: '#333',\n    padding: '2px 6px',\n    borderRadius: '3px',\n  },\n  settingsContainer: {\n    marginTop: '12px',\n    padding: '12px',\n    backgroundColor: '#1a1a1a',\n    borderRadius: '4px',\n  },\n  settingGroup: {\n    marginBottom: '16px',\n  },\n  settingGroupTitle: {\n    margin: '0 0 8px 0',\n    fontSize: '14px',\n    fontWeight: 'bold',\n    color: '#888',\n  },\n  settingRow: {\n    marginBottom: '16px',\n  },\n  label: {\n    display: 'block',\n    fontSize: '14px',\n    marginBottom: '8px',\n    cursor: 'pointer',\n  },\n  checkbox: {\n    marginRight: '8px',\n    cursor: 'pointer',\n  },\n  slider: {\n    width: '100%',\n    marginTop: '8px',\n  },\n  hint: {\n    fontSize: '12px',\n    color: '#888',\n    marginTop: '4px',\n  },\n  button: {\n    width: '100%',\n    padding: '12px',\n    backgroundColor: '#667eea',\n    border: 'none',\n    borderRadius: '4px',\n    color: 'white',\n    fontSize: '14px',\n    fontWeight: 'bold',\n    cursor: 'pointer',\n    marginBottom: '8px',\n    transition: 'background-color 0.2s',\n  },\n  buttonDisabled: {\n    width: '100%',\n    padding: '12px',\n    backgroundColor: '#555',\n    border: 'none',\n    borderRadius: '4px',\n    color: '#aaa',\n    fontSize: '14px',\n    fontWeight: 'bold',\n    cursor: 'not-allowed',\n    marginBottom: '8px',\n  },\n  buttonSecondary: {\n    width: '100%',\n    padding: '10px',\n    backgroundColor: '#444',\n    border: 'none',\n    borderRadius: '4px',\n    color: 'white',\n    fontSize: '13px',\n    cursor: 'pointer',\n    marginBottom: '8px',\n  },\n  about: {\n    fontSize: '14px',\n    lineHeight: '1.6',\n  },\n  smallText: {\n    fontSize: '12px',\n    color: '#888',\n    marginTop: '8px',\n  },\n  tagRulesInfo: {\n    marginBottom: '16px',\n    padding: '12px',\n    backgroundColor: '#252525',\n    borderRadius: '4px',\n  },\n  tagRule: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '8px',\n    marginBottom: '8px',\n    fontSize: '13px',\n  },\n  tagSection: {\n    marginBottom: '8px',\n    backgroundColor: '#1a1a1a',\n    borderRadius: '6px',\n    overflow: 'hidden',\n  },\n  tagSectionHeader: {\n    width: '100%',\n    padding: '12px 14px',\n    backgroundColor: '#252525',\n    border: 'none',\n    borderRadius: '0',\n    color: 'white',\n    fontSize: '14px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  tagSectionLeft: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '10px',\n  },\n  tagSectionRight: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '12px',\n  },\n  tagSectionTitle: {\n    fontWeight: 'bold',\n  },\n  tagCount: {\n    fontSize: '16px',\n    fontWeight: 'bold',\n  },\n  expandIcon: {\n    fontSize: '18px',\n    color: '#888',\n    width: '20px',\n    textAlign: 'center',\n  },\n  emptySection: {\n    padding: '12px 16px',\n    color: '#666',\n    fontSize: '13px',\n    fontStyle: 'italic',\n  },\n  tagDescription: {\n    padding: '8px 16px 12px 16px',\n    color: '#999',\n    fontSize: '12px',\n    fontStyle: 'italic',\n    borderBottom: '1px solid #2a2a2a',\n  },\n};\n","/**\n * GameTag Component\n * Displays a colored badge with icon for game tags\n */\n\nimport React, { VFC, CSSProperties } from 'react';\nimport { GameTag as GameTagType } from '../types';\nimport { TagIcon, TAG_ICON_COLORS } from './TagIcon';\n\n// Debug logging helper\nconst log = (msg: string, data?: any) => {\n  const logMsg = `[GameProgressTracker][GameTag] ${msg}`;\n  if (data !== undefined) {\n    console.log(logMsg, data);\n  } else {\n    console.log(logMsg);\n  }\n};\n\ninterface GameTagProps {\n  tag: GameTagType | null;\n  onClick?: () => void;\n  compact?: boolean;  // For grid view - shows only icon\n}\n\ninterface TagStyle {\n  background: string;\n  label: string;\n}\n\nconst TAG_STYLES: Record<string, TagStyle> = {\n  completed: {\n    background: 'linear-gradient(135deg, #11998e 0%, #38ef7d 100%)',\n    label: 'Completed'\n  },\n  in_progress: {\n    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n    label: 'In Progress'\n  },\n  mastered: {\n    background: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',\n    label: 'Mastered'\n  },\n  dropped: {\n    background: 'linear-gradient(135deg, #b8956a 0%, #c9a171 100%)',\n    label: 'Dropped'\n  }\n};\n\nexport const GameTag: VFC<GameTagProps> = ({ tag, onClick, compact = false }) => {\n  log(`GameTag render: tag=${tag?.tag || 'null'}, compact=${compact}, hasOnClick=${!!onClick}`);\n\n  if (!tag || !tag.tag) {\n    log('GameTag: no tag, returning null');\n    return null;\n  }\n\n  const style = TAG_STYLES[tag.tag];\n\n  if (!style) {\n    log(`GameTag: no style for tag=${tag.tag}, returning null`);\n    return null;\n  }\n\n  log(`GameTag: rendering badge for tag=${tag.tag}`);\n\n  // Compact mode: just the icon with background circle\n  if (compact) {\n    const compactStyle: CSSProperties = {\n      position: 'absolute',\n      top: '8px',\n      right: '8px',\n      background: 'rgba(0, 0, 0, 0.7)',\n      borderRadius: '50%',\n      padding: '4px',\n      boxShadow: '0 2px 4px rgba(0,0,0,0.4)',\n      zIndex: 1000,\n      cursor: onClick ? 'pointer' : 'default',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      userSelect: 'none',\n    };\n\n    return (\n      <div onClick={onClick} style={compactStyle} title={style.label}>\n        <TagIcon type={tag.tag as any} size={16} />\n      </div>\n    );\n  }\n\n  // Full mode: badge with icon and text\n  // Note: position is relative (not absolute) - parent handles placement\n  const containerStyle: CSSProperties = {\n    position: 'relative',\n    display: 'inline-flex',\n    background: style.background,\n    color: 'white',\n    padding: '8px 16px',\n    borderRadius: '20px',\n    fontSize: '14px',\n    fontWeight: 'bold',\n    boxShadow: '0 4px 6px rgba(0,0,0,0.3)',\n    cursor: onClick ? 'pointer' : 'default',\n    alignItems: 'center',\n    gap: '8px',\n    userSelect: 'none',\n    transition: 'transform 0.2s ease',\n  };\n\n  return (\n    <div\n      onClick={onClick}\n      style={containerStyle}\n      title={tag.is_manual ? 'Manual tag - Click to edit' : 'Automatic tag - Click to edit'}\n    >\n      <TagIcon type={tag.tag as any} size={18} />\n      <span>{style.label}</span>\n      {tag.is_manual && (\n        <span style={{ fontSize: '12px', opacity: 0.8 }}>✎</span>\n      )}\n    </div>\n  );\n};\n","/**\n * TagManager Component\n * Modal for managing game tags manually\n */\n\nimport React, { FC, useState, useEffect } from 'react';\nimport { call } from '@decky/api';\nimport { Focusable, DialogButton } from '@decky/ui';\nimport { GameDetails } from '../types';\nimport { TagIcon, TAG_ICON_COLORS } from './TagIcon';\n\n// Debug logging helper\nconst log = (msg: string, data?: any) => {\n  const logMsg = `[GameProgressTracker][TagManager] ${msg}`;\n  if (data !== undefined) {\n    console.log(logMsg, data);\n  } else {\n    console.log(logMsg);\n  }\n};\n\ninterface TagManagerProps {\n  appid: string;\n  onClose: () => void;\n}\n\nexport const TagManager: FC<TagManagerProps> = ({ appid, onClose }) => {\n  const [details, setDetails] = useState<GameDetails | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  log(`TagManager mounted for appid=${appid}`);\n\n  useEffect(() => {\n    log(`TagManager useEffect: fetching details for appid=${appid}`);\n    fetchDetails();\n  }, [appid]);\n\n  const fetchDetails = async () => {\n    try {\n      log(`fetchDetails: calling get_game_details for appid=${appid}`);\n      setLoading(true);\n      setError(null);\n\n      const result = await call<[{ appid: string }], GameDetails>('get_game_details', { appid });\n      log(`fetchDetails: result for appid=${appid}:`, result);\n      setDetails(result);\n    } catch (err: any) {\n      const errorMsg = err?.message || 'Failed to load game details';\n      setError(errorMsg);\n      log(`fetchDetails: error for appid=${appid}: ${errorMsg}`, err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const setTag = async (tag: string) => {\n    try {\n      log(`setTag: calling set_manual_tag for appid=${appid}, tag=${tag}`);\n      const result = await call<[{ appid: string; tag: string }], { success: boolean; error?: string }>('set_manual_tag', { appid, tag });\n      log(`setTag: result for appid=${appid}:`, result);\n      await fetchDetails();\n    } catch (err: any) {\n      const errorMsg = err?.message || 'Failed to set tag';\n      setError(errorMsg);\n      log(`setTag: error for appid=${appid}: ${errorMsg}`, err);\n    }\n  };\n\n  const resetToAuto = async () => {\n    try {\n      log(`resetToAuto: calling reset_to_auto_tag for appid=${appid}`);\n      const result = await call<[{ appid: string }], { success: boolean; error?: string }>('reset_to_auto_tag', { appid });\n      log(`resetToAuto: result for appid=${appid}:`, result);\n      await fetchDetails();\n    } catch (err: any) {\n      const errorMsg = err?.message || 'Failed to reset tag';\n      setError(errorMsg);\n      log(`resetToAuto: error for appid=${appid}: ${errorMsg}`, err);\n    }\n  };\n\n  const removeTag = async () => {\n    try {\n      log(`removeTag: calling remove_tag for appid=${appid}`);\n      const result = await call<[{ appid: string }], { success: boolean; error?: string }>('remove_tag', { appid });\n      log(`removeTag: result for appid=${appid}:`, result);\n      await fetchDetails();\n    } catch (err: any) {\n      const errorMsg = err?.message || 'Failed to remove tag';\n      setError(errorMsg);\n      log(`removeTag: error for appid=${appid}: ${errorMsg}`, err);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div style={styles.modal}>\n        <div style={styles.content}>\n          <div style={styles.loading}>Loading...</div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || !details || !details.success) {\n    return (\n      <div style={styles.modal}>\n        <div style={styles.content}>\n          <div style={styles.error}>{error || 'Failed to load game details'}</div>\n          <Focusable>\n            <DialogButton onClick={onClose}>Close</DialogButton>\n          </Focusable>\n        </div>\n      </div>\n    );\n  }\n\n  const stats = details.stats;\n  const tag = details.tag;\n  const hltb = details.hltb_data;\n\n  return (\n    <div style={styles.modal} onClick={onClose}>\n      <div style={styles.content} onClick={(e) => e.stopPropagation()}>\n        {/* Header: Game name with current tag */}\n        <div style={styles.header}>\n          <h2 style={styles.title}>{stats?.game_name || `Game ${appid}`}</h2>\n          {tag?.tag && (\n            <div style={styles.currentTagBadge}>\n              <TagIcon type={tag.tag as any} size={20} />\n              <span style={{ color: TAG_ICON_COLORS[tag.tag as keyof typeof TAG_ICON_COLORS] }}>\n                {tag.tag.replace('_', ' ').toUpperCase()}\n              </span>\n              <span style={styles.tagType}>\n                {tag.is_manual ? '(Manual)' : '(Auto)'}\n              </span>\n            </div>\n          )}\n        </div>\n\n        {/* Main content: Statistics and Tag buttons side by side */}\n        <div style={styles.mainContent}>\n          {/* Left side: Statistics */}\n          <div style={styles.leftColumn}>\n            <h3 style={styles.sectionTitle}>Statistics</h3>\n            {stats && (\n              <>\n                <div style={styles.statRow}>\n                  <span>Playtime:</span>\n                  <span>{Math.floor(stats.playtime_minutes / 60)}h {stats.playtime_minutes % 60}m</span>\n                </div>\n                <div style={styles.statRow}>\n                  <span>Achievements:</span>\n                  <span>{stats.unlocked_achievements}/{stats.total_achievements}</span>\n                </div>\n              </>\n            )}\n            {hltb && (\n              <>\n                <div style={styles.statRow}>\n                  <span>HLTB Match:</span>\n                  <span style={styles.hltbMatch}>\n                    {hltb.matched_name} ({Math.round((hltb.similarity || 0) * 100)}%)\n                  </span>\n                </div>\n                {hltb.main_story && (\n                  <div style={styles.statRow}>\n                    <span>Main Story:</span>\n                    <span>{hltb.main_story}h</span>\n                  </div>\n                )}\n              </>\n            )}\n            {!hltb && (\n              <div style={styles.statRow}>\n                <span>HLTB:</span>\n                <span style={styles.noData}>No data</span>\n              </div>\n            )}\n          </div>\n\n          {/* Right side: Tag buttons */}\n          <div style={styles.rightColumn}>\n            <h3 style={styles.sectionTitle}>Set Tag</h3>\n            <Focusable style={styles.tagButtonGroup} flow-children=\"down\">\n              <Focusable\n                onActivate={() => setTag('mastered')}\n                style={{ ...styles.tagButton, backgroundColor: TAG_ICON_COLORS.mastered }}\n              >\n                <TagIcon type=\"mastered\" size={18} />\n                <span>Mastered</span>\n              </Focusable>\n              <Focusable\n                onActivate={() => setTag('completed')}\n                style={{ ...styles.tagButton, backgroundColor: TAG_ICON_COLORS.completed }}\n              >\n                <TagIcon type=\"completed\" size={18} />\n                <span>Completed</span>\n              </Focusable>\n              <Focusable\n                onActivate={() => setTag('in_progress')}\n                style={{ ...styles.tagButton, backgroundColor: TAG_ICON_COLORS.in_progress }}\n              >\n                <TagIcon type=\"in_progress\" size={18} />\n                <span>In Progress</span>\n              </Focusable>\n              <Focusable\n                onActivate={() => setTag('dropped')}\n                style={{ ...styles.tagButton, backgroundColor: TAG_ICON_COLORS.dropped }}\n              >\n                <TagIcon type=\"dropped\" size={18} />\n                <span>Dropped</span>\n              </Focusable>\n            </Focusable>\n            <Focusable style={styles.buttonGroup} flow-children=\"horizontal\">\n              <DialogButton onClick={resetToAuto} style={styles.secondaryButton}>\n                Reset to Auto\n              </DialogButton>\n              <DialogButton onClick={removeTag} style={styles.secondaryButton}>\n                Remove\n              </DialogButton>\n            </Focusable>\n          </div>\n        </div>\n\n        <Focusable>\n          <DialogButton onClick={onClose} style={styles.closeButton}>Close</DialogButton>\n        </Focusable>\n      </div>\n    </div>\n  );\n};\n\nconst styles: Record<string, React.CSSProperties> = {\n  modal: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'rgba(0, 0, 0, 0.8)',\n    display: 'flex',\n    alignItems: 'flex-start',\n    justifyContent: 'center',\n    paddingTop: '80px',\n    zIndex: 10000,\n  },\n  content: {\n    backgroundColor: '#1a1a1a',\n    borderRadius: '8px',\n    padding: '24px',\n    maxWidth: '650px',\n    width: '90%',\n    maxHeight: '80vh',\n    overflow: 'auto',\n    color: 'white',\n  },\n  header: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: '20px',\n    paddingBottom: '16px',\n    borderBottom: '1px solid #333',\n  },\n  currentTagBadge: {\n    display: 'inline-flex',\n    alignItems: 'center',\n    gap: '8px',\n    padding: '6px 12px',\n    backgroundColor: '#252525',\n    borderRadius: '16px',\n    fontSize: '13px',\n    fontWeight: 'bold',\n    width: 'fit-content',\n  },\n  title: {\n    margin: 0,\n    fontSize: '18px',\n    fontWeight: 'bold',\n  },\n  mainContent: {\n    display: 'flex',\n    gap: '24px',\n    marginBottom: '20px',\n  },\n  leftColumn: {\n    flex: 1,\n    minWidth: 0,\n  },\n  rightColumn: {\n    flex: 1,\n    minWidth: 0,\n  },\n  sectionTitle: {\n    margin: '0 0 12px 0',\n    fontSize: '14px',\n    fontWeight: 'bold',\n    color: '#aaa',\n  },\n  statRow: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    padding: '6px 0',\n    fontSize: '13px',\n  },\n  hltbMatch: {\n    fontSize: '12px',\n    color: '#888',\n    maxWidth: '120px',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n  },\n  noData: {\n    color: '#666',\n    fontStyle: 'italic',\n  },\n  tagType: {\n    fontSize: '11px',\n    color: '#888',\n    fontWeight: 'normal',\n  },\n  noTag: {\n    color: '#888',\n    fontStyle: 'italic',\n  },\n  buttonGroup: {\n    display: 'flex',\n    gap: '6px',\n  },\n  tagButtonGroup: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '6px',\n    marginBottom: '10px',\n  },\n  tagButton: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    gap: '8px',\n    padding: '10px',\n    border: 'none',\n    borderRadius: '6px',\n    color: 'white',\n    fontSize: '13px',\n    fontWeight: 'bold',\n    transition: 'opacity 0.2s',\n  },\n  secondaryButton: {\n    flex: 1,\n    padding: '8px',\n    backgroundColor: '#444',\n    border: 'none',\n    borderRadius: '4px',\n    color: 'white',\n    fontSize: '12px',\n    transition: 'background-color 0.2s',\n  },\n  closeButton: {\n    width: '100%',\n    padding: '12px',\n    backgroundColor: '#555',\n    border: 'none',\n    borderRadius: '4px',\n    color: 'white',\n    fontSize: '14px',\n    fontWeight: 'bold',\n  },\n  loading: {\n    textAlign: 'center',\n    padding: '40px',\n    fontSize: '16px',\n  },\n  error: {\n    textAlign: 'center',\n    padding: '20px',\n    fontSize: '14px',\n    color: '#ff6b6b',\n  },\n  button: {\n    padding: '12px 24px',\n    backgroundColor: '#667eea',\n    border: 'none',\n    borderRadius: '4px',\n    color: 'white',\n    fontSize: '14px',\n    fontWeight: 'bold',\n    marginTop: '12px',\n  },\n};\n","/**\n * React hook for managing game tags\n */\n\nimport { useState, useEffect } from 'react';\nimport { call } from '@decky/api';\nimport { GameTag } from '../types';\n\n// Debug logging helper\nconst log = (msg: string, data?: any) => {\n  const logMsg = `[GameProgressTracker][useGameTag] ${msg}`;\n  if (data !== undefined) {\n    console.log(logMsg, data);\n  } else {\n    console.log(logMsg);\n  }\n};\n\nexport function useGameTag(appid: string) {\n  const [tag, setTag] = useState<GameTag | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    log(`useEffect triggered for appid=${appid}`);\n    fetchTag();\n  }, [appid]);\n\n  const fetchTag = async () => {\n    try {\n      log(`fetchTag: calling get_game_tag for appid=${appid}`);\n      setLoading(true);\n      setError(null);\n\n      const result = await call<[{ appid: string }], { success: boolean; tag: GameTag | null }>('get_game_tag', { appid });\n      log(`fetchTag: result for appid=${appid}:`, result);\n      setTag(result.tag);\n    } catch (err: any) {\n      const errorMsg = err?.message || 'Failed to fetch tag';\n      setError(errorMsg);\n      log(`fetchTag: error for appid=${appid}: ${errorMsg}`, err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const setManualTag = async (newTag: string) => {\n    try {\n      setError(null);\n\n      const result = await call<[{ appid: string; tag: string }], { success: boolean; error?: string }>('set_manual_tag', { appid, tag: newTag });\n\n      if (result.success) {\n        await fetchTag();\n      } else {\n        setError(result.error || 'Failed to set tag');\n      }\n    } catch (err: any) {\n      setError(err?.message || 'Failed to set tag');\n      console.error('Error setting tag:', err);\n    }\n  };\n\n  const removeTag = async () => {\n    try {\n      setError(null);\n\n      const result = await call<[{ appid: string }], { success: boolean; error?: string }>('remove_tag', { appid });\n\n      if (result.success) {\n        await fetchTag();\n      } else {\n        setError(result.error || 'Failed to remove tag');\n      }\n    } catch (err: any) {\n      setError(err?.message || 'Failed to remove tag');\n      console.error('Error removing tag:', err);\n    }\n  };\n\n  const resetToAuto = async () => {\n    try {\n      setError(null);\n\n      const result = await call<[{ appid: string }], { success: boolean; error?: string }>('reset_to_auto_tag', { appid });\n\n      if (result.success) {\n        await fetchTag();\n      } else {\n        setError(result.error || 'Failed to reset tag');\n      }\n    } catch (err: any) {\n      setError(err?.message || 'Failed to reset tag');\n      console.error('Error resetting tag:', err);\n    }\n  };\n\n  return {\n    tag,\n    loading,\n    error,\n    refetch: fetchTag,\n    setManualTag,\n    removeTag,\n    resetToAuto\n  };\n}\n","/**\n * GameTagBadge Component\n * Wrapper component for displaying game tag on library app page\n * Designed to be injected via safe route patching\n * Uses same positioning pattern as ProtonDB Badges\n */\n\nimport React, { useState, useEffect, useRef, FC } from 'react';\nimport { appDetailsClasses, appDetailsHeaderClasses } from '@decky/ui';\nimport { GameTag } from './GameTag';\nimport { TagManager } from './TagManager';\nimport { useGameTag } from '../hooks/useGameTag';\nimport { syncSingleGameWithFrontendData } from '../lib/syncUtils';\n\n// Debug logging helper\nconst log = (msg: string, data?: any) => {\n  const logMsg = `[GameProgressTracker][GameTagBadge] ${msg}`;\n  if (data !== undefined) {\n    console.log(logMsg, data);\n  } else {\n    console.log(logMsg);\n  }\n};\n\n/**\n * Find the TopCapsule element by walking up the DOM tree\n * Same pattern used by ProtonDB Badges\n */\nfunction findTopCapsuleParent(ref: HTMLDivElement | null): Element | null {\n  const children = ref?.parentElement?.children;\n  if (!children) {\n    return null;\n  }\n\n  // Find the Header container\n  let headerContainer: Element | undefined;\n  for (const child of children) {\n    if (child.className.includes(appDetailsClasses.Header)) {\n      headerContainer = child;\n      break;\n    }\n  }\n\n  if (!headerContainer) {\n    return null;\n  }\n\n  // Find TopCapsule within the header\n  let topCapsule: Element | null = null;\n  for (const child of headerContainer.children) {\n    if (child.className.includes(appDetailsHeaderClasses.TopCapsule)) {\n      topCapsule = child;\n      break;\n    }\n  }\n\n  return topCapsule;\n}\n\n/**\n * Placeholder button when no tag exists\n */\nconst AddTagButton: FC<{ onClick: () => void }> = ({ onClick }) => {\n  const buttonStyle: React.CSSProperties = {\n    display: 'inline-flex',\n    background: 'rgba(50, 50, 50, 0.9)',\n    color: '#aaa',\n    padding: '8px 16px',\n    borderRadius: '20px',\n    fontSize: '14px',\n    fontWeight: 'bold',\n    boxShadow: '0 4px 6px rgba(0,0,0,0.3)',\n    cursor: 'pointer',\n    alignItems: 'center',\n    gap: '8px',\n    userSelect: 'none',\n    border: '1px dashed #666',\n  };\n\n  return (\n    <div onClick={onClick} style={buttonStyle} title=\"Click to add tag\">\n      <span style={{ fontSize: '16px' }}>+</span>\n      <span>Add Tag</span>\n    </div>\n  );\n};\n\ninterface GameTagBadgeProps {\n  appid: string;\n}\n\n/**\n * GameTagBadge - Main component injected into library app page\n * Shows tag badge or \"Add Tag\" button, with TagManager modal\n * Positions on opposite side of ProtonDB (top-right vs their top-left default)\n */\nexport const GameTagBadge: FC<GameTagBadgeProps> = ({ appid }) => {\n  const { tag, loading, error, refetch } = useGameTag(appid);\n  const [showManager, setShowManager] = useState(false);\n  const [show, setShow] = useState(true);\n  const ref = useRef<HTMLDivElement | null>(null);\n\n  useEffect(() => {\n    log(`Mounted: appid=${appid}`);\n\n    // Sync this game's data when detail page is viewed\n    // This ensures we have the latest playtime and achievement data\n    (async () => {\n      try {\n        log(`Syncing game data for appid=${appid}...`);\n        const result = await syncSingleGameWithFrontendData(appid);\n        if (result.success) {\n          log(`Game ${appid} synced successfully, refreshing tag...`);\n          refetch();\n        } else {\n          log(`Game ${appid} sync failed: ${result.error}`);\n        }\n      } catch (e) {\n        log(`Error syncing game ${appid}:`, e);\n      }\n    })();\n\n    return () => {\n      log(`Unmounted: appid=${appid}`);\n    };\n  }, [appid]);\n\n  // Watch for fullscreen mode changes (same pattern as ProtonDB)\n  useEffect(() => {\n    const topCapsule = findTopCapsuleParent(ref?.current);\n    if (!topCapsule) {\n      log('TopCapsule container not found');\n      return;\n    }\n\n    log('TopCapsule found, setting up mutation observer');\n\n    const mutationObserver = new MutationObserver((entries) => {\n      for (const entry of entries) {\n        if (entry.type !== 'attributes' || entry.attributeName !== 'class') {\n          continue;\n        }\n\n        const className = (entry.target as Element).className;\n        const fullscreenMode =\n          className.includes(appDetailsHeaderClasses.FullscreenEnterStart) ||\n          className.includes(appDetailsHeaderClasses.FullscreenEnterActive) ||\n          className.includes(appDetailsHeaderClasses.FullscreenEnterDone) ||\n          className.includes(appDetailsHeaderClasses.FullscreenExitStart) ||\n          className.includes(appDetailsHeaderClasses.FullscreenExitActive);\n        const fullscreenAborted =\n          className.includes(appDetailsHeaderClasses.FullscreenExitDone);\n\n        setShow(!fullscreenMode || fullscreenAborted);\n      }\n    });\n\n    mutationObserver.observe(topCapsule, { attributes: true, attributeFilter: ['class'] });\n    return () => {\n      mutationObserver.disconnect();\n    };\n  }, []);\n\n  useEffect(() => {\n    log(`State update: appid=${appid}, loading=${loading}, tag=`, tag);\n    if (error) {\n      log(`Error: ${error}`);\n    }\n  }, [appid, tag, loading, error]);\n\n  if (loading) {\n    log(`Still loading for appid=${appid}`);\n    return <div ref={ref} style={{ display: 'none' }} />;\n  }\n\n  log(`Rendering: appid=${appid}, hasTag=${!!tag}, tagValue=${tag?.tag || 'none'}, show=${show}`);\n\n  const handleClick = () => {\n    log(`Tag button clicked for appid=${appid}`);\n    setShowManager(true);\n  };\n\n  const handleClose = () => {\n    log(`TagManager closed for appid=${appid}`);\n    setShowManager(false);\n    refetch();\n  };\n\n  // Position on top-right (opposite side from ProtonDB's default top-left)\n  const containerStyle: React.CSSProperties = {\n    position: 'absolute',\n    top: '50px',\n    right: '20px',\n    zIndex: 10,\n  };\n\n  return (\n    <div ref={ref} style={containerStyle}>\n      {show && (\n        <>\n          {tag && tag.tag ? (\n            <GameTag tag={tag} onClick={handleClick} />\n          ) : (\n            <AddTagButton onClick={handleClick} />\n          )}\n          {showManager && (\n            <TagManager\n              appid={appid}\n              onClose={handleClose}\n            />\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n","/**\n * Library App Route Patching\n * Based on ProtonDB Badges plugin implementation\n * Uses proper Decky UI patching utilities for safety\n */\n\nimport {\n  afterPatch,\n  findInReactTree,\n  appDetailsClasses,\n  appDetailsHeaderClasses,\n  createReactTreePatcher\n} from '@decky/ui';\nimport { routerHook } from '@decky/api';\nimport React, { ReactElement } from 'react';\nimport { GameTagBadge } from '../components/GameTagBadge';\n\n// Debug logging helper\nconst log = (msg: string, data?: any) => {\n  const logMsg = `[GameProgressTracker][patchLibraryApp] ${msg}`;\n  if (data !== undefined) {\n    console.log(logMsg, data);\n  } else {\n    console.log(logMsg);\n  }\n};\n\n/**\n * Extract appid from the current route/URL\n */\nfunction getAppIdFromUrl(): string | null {\n  try {\n    // Try to get appid from window location\n    const match = window.location.pathname.match(/\\/library\\/app\\/(\\d+)/);\n    if (match) {\n      return match[1];\n    }\n\n    // Fallback: try to find it in the URL hash or other places\n    const hashMatch = window.location.hash.match(/\\/library\\/app\\/(\\d+)/);\n    if (hashMatch) {\n      return hashMatch[1];\n    }\n\n    return null;\n  } catch (e) {\n    log('Error getting appid from URL:', e);\n    return null;\n  }\n}\n\n/**\n * Patch the library app page to inject our tag badge\n * Following the ProtonDB Badges pattern for safety\n */\nfunction patchLibraryApp() {\n  log('Setting up library app patch');\n\n  return routerHook.addPatch(\n    '/library/app/:appid',\n    (tree: any) => {\n      log('Route patch callback triggered');\n\n      try {\n        // Find the route props with renderFunc (same pattern as ProtonDB)\n        const routeProps = findInReactTree(tree, (x: any) => x?.renderFunc);\n\n        if (routeProps) {\n          log('Found routeProps with renderFunc');\n\n          const patchHandler = createReactTreePatcher(\n            [\n              (tree: any) => findInReactTree(\n                tree,\n                (x: any) => x?.props?.children?.props?.overview\n              )?.props?.children\n            ],\n            (_: Array<Record<string, unknown>>, ret?: ReactElement) => {\n              // Find the inner container where we'll inject our badge\n              const container = findInReactTree(\n                ret,\n                (x: ReactElement) =>\n                  Array.isArray(x?.props?.children) &&\n                  x?.props?.className?.includes(appDetailsClasses.InnerContainer)\n              );\n\n              if (typeof container !== 'object') {\n                log('Container not found, returning original');\n                return ret;\n              }\n\n              // Get appid from URL since we're inside the render\n              const appid = getAppIdFromUrl();\n\n              if (appid) {\n                log(`Injecting GameTagBadge for appid=${appid}`);\n\n                // Inject our badge component at position 0 (first child, will use absolute positioning)\n                container.props.children.splice(\n                  0,\n                  0,\n                  <GameTagBadge key=\"game-progress-tag\" appid={appid} />\n                );\n              } else {\n                log('Could not determine appid');\n              }\n\n              return ret;\n            }\n          );\n\n          afterPatch(routeProps, \"renderFunc\", patchHandler);\n          log('Patch handler attached to renderFunc');\n        } else {\n          log('routeProps with renderFunc not found');\n        }\n      } catch (error) {\n        log('Error in route patch:', error);\n      }\n\n      return tree;\n    }\n  );\n}\n\nexport default patchLibraryApp;\n","/**\n * Achievement Cache Watcher\n * Monitors URL changes and syncs achievements when user views \"Your Stuff\" tab\n */\n\nimport { syncSingleGameWithFrontendData } from './syncUtils';\n\nconst log = (msg: string, data?: any) => {\n  const logMsg = `[GameProgressTracker][achievementCacheWatcher] ${msg}`;\n  if (data !== undefined) {\n    console.log(logMsg, data);\n  } else {\n    console.log(logMsg);\n  }\n};\n\nlet lastUrl = '';\nlet syncTimeout: NodeJS.Timeout | null = null;\n\n/**\n * Start watching for URL changes to detect when user views achievements\n */\nexport function startAchievementCacheWatcher() {\n  log('Starting achievement cache watcher');\n\n  // Poll for URL changes every 500ms\n  setInterval(() => {\n    const currentUrl = window.location.href;\n\n    if (currentUrl !== lastUrl) {\n      lastUrl = currentUrl;\n\n      // Check if user opened \"Your Stuff\" tab (where achievements are shown)\n      const yourStuffMatch = currentUrl.match(/\\/library\\/app\\/(\\d+)\\/tab\\/YourStuff/);\n\n      if (yourStuffMatch) {\n        const appid = yourStuffMatch[1];\n        log(`Detected achievements tab for ${appid}`);\n\n        // Clear any pending sync\n        if (syncTimeout) {\n          clearTimeout(syncTimeout);\n        }\n\n        // Wait for Steam to populate the achievement cache\n        // Poll the cache with exponential backoff up to 10 seconds\n        syncTimeout = setTimeout(async () => {\n          const achievementCache = (window as any).appAchievementProgressCache;\n          const mapCache = achievementCache?.m_achievementProgress?.mapCache;\n\n          if (!mapCache) {\n            log(`${appid}: mapCache not available`);\n            return;\n          }\n\n          // Poll with exponential backoff: 500ms, 1s, 2s, 3s, 3s (total ~10s max)\n          const delays = [500, 1000, 2000, 3000, 3000];\n          let foundData = false;\n\n          for (let i = 0; i < delays.length; i++) {\n            await new Promise(resolve => setTimeout(resolve, delays[i]));\n\n            const entry = mapCache.get(parseInt(appid));\n\n            if (entry && entry.total > 0) {\n              log(`${appid}: Achievements loaded (${entry.unlocked}/${entry.total})`);\n              foundData = true;\n              break;\n            }\n          }\n\n          if (foundData) {\n            try {\n              await syncSingleGameWithFrontendData(appid);\n              log(`${appid}: Sync complete`);\n            } catch (e: any) {\n              log(`${appid}: Sync failed - ${e.message}`);\n            }\n          } else {\n            log(`${appid}: Achievements not loaded after 10s`);\n          }\n        }, 100); // Start polling after 100ms initial delay\n      }\n    }\n  }, 500);\n}\n\n/**\n * Stop watching for URL changes\n */\nexport function stopAchievementCacheWatcher() {\n  log('Stopping achievement cache watcher');\n  if (syncTimeout) {\n    clearTimeout(syncTimeout);\n    syncTimeout = null;\n  }\n}\n","/**\n * Game Progress Tracker - Main Plugin Entry\n * Decky Loader plugin for automatic game tagging\n *\n * Uses safe route patching pattern based on ProtonDB Badges plugin\n */\n\nimport { staticClasses } from '@decky/ui';\nimport { definePlugin, routerHook, toaster } from '@decky/api';\nimport React from 'react';\nimport { Settings } from './components/Settings';\nimport patchLibraryApp from './lib/patchLibraryApp';\nimport { syncLibraryWithFrontendData } from './lib/syncUtils';\nimport { startAchievementCacheWatcher, stopAchievementCacheWatcher } from './lib/achievementCacheWatcher';\n\n// Debug logging helper\nconst log = (msg: string, data?: any) => {\n  const logMsg = `[GameProgressTracker] ${msg}`;\n  if (data !== undefined) {\n    console.log(logMsg, data);\n  } else {\n    console.log(logMsg);\n  }\n};\n\n/**\n * Main Plugin Definition\n */\nexport default definePlugin(() => {\n  log('=== Plugin initializing ===');\n\n  // Patch the game library page using the safe ProtonDB-style approach\n  log('Setting up library app patch');\n  let libraryPatch: ReturnType<typeof patchLibraryApp> | null = null;\n\n  try {\n    libraryPatch = patchLibraryApp();\n    log('Library app patch registered successfully');\n  } catch (error) {\n    log('Failed to register library app patch:', error);\n  }\n\n  // Start achievement cache watcher (monitors when user views \"Your Stuff\" tab)\n  log('Starting achievement cache watcher');\n  startAchievementCacheWatcher();\n\n  // Trigger sync with frontend data (replaces backend auto-sync)\n  // This uses Steam's frontend API for real-time playtime and achievement data\n  log('Triggering initial sync with frontend data...');\n  (async () => {\n    try {\n      const result = await syncLibraryWithFrontendData();\n      log('Initial sync result:', result);\n\n      // Show toast notification when initial sync completes\n      // Use new_tags count from backend for accurate notification\n      if (result.success && result.synced && result.synced > 0) {\n        const newTags = result.new_tags || 0;\n        const message = newTags > 0\n          ? `Synced ${result.synced} games. ${newTags} new tag${newTags > 1 ? 's' : ''} added!`\n          : `Synced ${result.synced} games. Open plugin to see your library.`;\n\n        toaster.toast({\n          title: 'Game Progress Tracker',\n          body: message,\n          duration: 5000,\n        });\n      }\n    } catch (err) {\n      log('Initial sync failed:', err);\n    }\n  })();\n\n  return {\n    name: 'Game Progress Tracker',\n    titleView: <div className={staticClasses.Title}>Game Progress Tracker</div>,\n    content: <Settings />,\n    icon: (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 24 24\"\n        fill=\"currentColor\"\n        width=\"24\"\n        height=\"24\"\n      >\n        <path d=\"M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5zm0 18c-3.87 0-7-3.13-7-7V8.3l7-3.11 7 3.11V13c0 3.87-3.13 7-7 7zm-1-5h2v2h-2v-2zm0-8h2v6h-2V7z\" />\n      </svg>\n    ),\n    onDismount() {\n      log('=== Plugin dismounting ===');\n\n      // Stop achievement cache watcher\n      stopAchievementCacheWatcher();\n\n      // Clean up patches when plugin is unloaded\n      if (libraryPatch) {\n        try {\n          routerHook.removePatch('/library/app/:appid', libraryPatch);\n          log('Library app patch removed successfully');\n        } catch (error) {\n          log('Error removing library app patch:', error);\n        }\n      }\n    }\n  };\n});\n"],"names":["log","styles"],"mappings":"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"}